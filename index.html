<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Highcarder</title>
  <link href="styles.css" type="text/css" rel="stylesheet">
  <link href="index.css" type="text/css" rel="stylesheet">

  <!-- 
    _____          __  __ ______    _____  _____ _____  _____ _____ _______ _____ 
  / ____|   /\   |  \/  |  ____|  / ____|/ ____|  __ \|_   _|  __ \__   __/ ____|
 | |  __   /  \  | \  / | |__    | (___ | |    | |__) | | | | |__) | | | | (___  
 | | |_ | / /\ \ | |\/| |  __|    \___ \| |    |  _  /  | | |  ___/  | |  \___ \ 
 | |__| |/ ____ \| |  | | |____   ____) | |____| | \ \ _| |_| |      | |  ____) |
  \_____/_/    \_\_|  |_|______| |_____/ \_____|_|  \_\_____|_|      |_| |_____/ 
                                                                                 
  made using ASCII generator: https://patorjk.com/software/taag/#p=display&f=Big&t=GAME%20SCRIPTS 
  -->

  <!-- bruh
   -->
  <!-- P5.js library -->
  <script src="./p5/p5.min.js"></script>

  <!-- globals / upgrades -->
  <script src="./assets/js/globals/globals.js"></script> <!-- globals -->
  <script src="./assets/js/globals/upgrades.js"></script>
  <script src="./assets/js/globals/debuffs.js"></script> <!-- debuffs (im too lazy to move it out of debuffs)-->
  <script src="./assets/js/globals/helpers.js"></script> <!-- helper functions for upgrades -->

  <!-- classes -->
  <script src="./assets/js/classes/card.js"></script>
  <script src="./assets/js/classes/upgradeChoice.js"></script> <!-- game logic -->
  <script src="./assets/js/classes/buttons.js"></script> <!-- all button classes -->

  <!-- main scripts -->
  <script src="./assets/js/main/sketch.js"></script> <!-- main -->
  <script src="./assets/js/main/UI.js"></script> <!-- UI code -->
  <script src="./assets/js/main/input.js"></script> <!-- input logic -->

  <!-- game state scripts-->
  <script src="./assets/js/main/game.js"></script> <!-- main game -->
  <script src="./assets/js/main/upgradephase.js"></script> <!-- upgrade phase -->
  <script src="./assets/js/main/gamestatelogic.js"></script> <!-- gamestate logic phase -->
  <script src="./assets/js/debug.js"></script> <!-- debug functions, used in console -->

</head>

<header>
  <nav>
    <div class="navpage">
      <div class="nav-container">
        <a href="leaderboard.html">LEADERBOARD</a>
        <a href="index.html">HIGHCARDER</a>
        <a href="howtoplay.html">HOW TO PLAY</a>
      </div>
    </div>
  </nav>
</header>

<body>

  <div id="resolution-warning">
    <p>⚠ Resolution unsupported. Please use a larger screen.<br>
    (Minimum 1100x600)</p>
  </div>

  <main>
    <div id="perkContainer">
      <h3 class="accordion-header">
        <span class="arrow">▶</span> Abilities <span class="count-label"></span>
      </h3>
      <div class="accordion-display perk-display"></div>
    </div>

    <div id="debuffContainer">
      <h3 class="accordion-header">
        <span class="arrow">▶</span> Debuffs <span class="count-label"></span>
      </h3>
      <div class="accordion-display debuff-display"></div>
    </div>

    <!-- "defer" only loads the script once everything else has been loaded -->
    <script defer>

      // iterate between both perk and debuff
      function initAccordions() {
        document.querySelectorAll(".accordion-header").forEach(header => {
          const display = header.nextElementSibling; // assumes .accordion-display is right after header
          header.addEventListener("click", () => {
            display.classList.toggle("closed");
            const arrow = header.querySelector(".arrow");
            if (arrow) arrow.classList.toggle("open");
          });
        });
      }

      document.addEventListener("DOMContentLoaded", initAccordions);

    </script>

    <script>
      function checkResolution() {
        const warning = document.getElementById('resolution-warning');
        if (window.innerWidth < 1100 || window.innerHeight < 600) {
          warning.style.display = 'flex';
        } else {
          warning.style.display = 'none';
        }
      }

      window.addEventListener('resize', checkResolution);
      window.addEventListener('DOMContentLoaded', checkResolution);
    </script>

  </main>

</body>

</html>